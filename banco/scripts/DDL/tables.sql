USE master
GO
CREATE DATABASE LanchesMutant
GO

USE LanchesMutant
GO

CREATE TABLE TB_TIPO_DOMINIO(
	COD_TIPO_DOMINO INT IDENTITY NOT NULL,
	TIPO_DOMINIO VARCHAR(100) NOT NULL,
	CONSTRAINT PK_COD_TIPO_DOMINO PRIMARY KEY (COD_TIPO_DOMINO) 
)
GO

CREATE TABLE TB_DOMINIO(
	COD_DOMINO INT IDENTITY NOT NULL,
	DOMINIO VARCHAR(100) NOT NULL,
	DESC_DOMINIO VARCHAR(200) NOT NULL,
	COD_TIPO_DOMINO INT NOT NULL,
	COD_ENUM INT NOT NULL,
	CONSTRAINT PK_COD_DOMINO PRIMARY KEY (COD_DOMINO),
	CONSTRAINT PF_COD_TIPO_DOMINO FOREIGN KEY (COD_TIPO_DOMINO) REFERENCES TB_TIPO_DOMINIO(COD_TIPO_DOMINO) 
)
GO

CREATE TABLE TB_LANCHE(
	COD_LANCHE INT IDENTITY NOT NULL,
	LANCHE VARCHAR(100) NOT NULL,
	CONSTRAINT PK_COD_LANCHE PRIMARY KEY (COD_LANCHE)
)
GO


CREATE TABLE TB_INGREDIENTE(
	COD_INGREDIENTE INT IDENTITY NOT NULL,
	INGREDIENTE VARCHAR(100) NOT NULL,
	VALOR DECIMAL(18,2) NOT NULL,
	CONSTRAINT PK_COD_INGREDIENTE PRIMARY KEY (COD_INGREDIENTE)
)
GO

CREATE TABLE TB_LANCHE_INGREDIENTE(
	COD_LANCHE_INGREDIENTE INT IDENTITY NOT NULL,
	COD_LANCHE INT NOT NULL,
	COD_INGREDIENTE INT NOT NULL,
	CONSTRAINT PK_COD_LANCHE_INGREDIENTE PRIMARY KEY (COD_LANCHE_INGREDIENTE),
	CONSTRAINT PF_COD_LANCHE FOREIGN KEY (COD_LANCHE) REFERENCES TB_LANCHE(COD_LANCHE),
	CONSTRAINT PF_COD_INGREDIENTE FOREIGN KEY (COD_INGREDIENTE) REFERENCES TB_INGREDIENTE(COD_INGREDIENTE),
)
GO

CREATE TABLE TB_VENDAS(
	COD_VENDAS INT IDENTITY NOT NULL,
	DESC_VENDAS VARCHAR(100),
	CONSTRAINT PK_COD_VENDAS PRIMARY KEY (COD_VENDAS),
)
GO

CREATE TABLE TB_VENDAS_LANCHES(
	COD_VENDAS_LANCHE INT IDENTITY NOT NULL,
	COD_VENDAS INT NOT NULL,
	COD_LANCHE INT NULL,
	COD_DOMINO INT NULL,
	CONSTRAINT PK_COD_VENDAS_LANCHE PRIMARY KEY (COD_VENDAS_LANCHE),
	CONSTRAINT PF__COD_LANCHE FOREIGN KEY (COD_VENDAS) REFERENCES TB_VENDAS(COD_VENDAS)

)



